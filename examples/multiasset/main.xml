<?xml version="1.0" encoding="UTF-8"?>

<!--  A JASA implementation of the model described in the following paper:

		Iori, G., Chiarella, C., November 2002. 
		A Simulation Analysis of the Microstructure of Double Auction Markets. 
		Quantitative Finance 2, 346-353.
		http://ssrn.com/abstract=841608
 -->
 
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<import resource="model-goog.xml"/>
	<import resource="reports-goog.xml" />
    <import resource="model-ibm.xml"/>
    <import resource="report-ibm.xml"/>
	
	<bean id="simulationController" 
			class="net.sourceforge.jabm.SpringSimulationController"
			scope="singleton">
			
		<property name="simulationBeanName">
		   <idref local="marketController"/>
		</property>
	
		<property name="numSimulations" value="1"/>
		
		<property name="reports">
			<list>
				<ref bean="gbmPriceProcess" />
				<ref bean="gbmPriceTimeSeriesReport" />
				<ref bean="priceTimeSeriesChart" />
				<ref bean="equilibriumPriceTimeSeriesChart" />
				<ref bean="equilibriumPriceTimeSeriesReport"/>
				<ref bean="equilibriumPriceReportVariables"/>
				<ref bean="equilibriumPriceUpdater"/>
				<ref bean="equilibriumPriceCSVReport"/>
				<ref bean="currentPriceTimeSeriesReport" />
				<ref bean="currentPriceCSVReport"/>
				<ref bean="currentPriceReportVariables" />
				<ref bean="spreadTimeSeriesReport" />
				<ref bean="spreadReportVariables" />
				<ref bean="reportedSupplyAndDemandGraph"/>
				<ref bean="auctionStateSupplyAndDemandGraph"/>
				<ref bean="orderBookView"/>

                <!--IBM-->
                <ref bean="gbmPriceProcessIBM" />
                <ref bean="gbmPriceTimeSeriesReportIBM" />
                <!--<ref bean="priceTimeSeriesChart" />-->
                <ref bean="equilibriumPriceTimeSeriesChartIBM" />
                <ref bean="equilibriumPriceTimeSeriesReportIBM"/>
                <ref bean="equilibriumPriceReportVariablesIBM"/>
                <ref bean="equilibriumPriceUpdaterIBM"/>
                <ref bean="equilibriumPriceCSVReportIBM"/>
                <ref bean="currentPriceTimeSeriesReportIBM" />
                <ref bean="currentPriceCSVReportIBM"/>
                <ref bean="currentPriceReportVariablesIBM" />
                <ref bean="spreadTimeSeriesReportIBM" />
                <ref bean="spreadReportVariablesIBM" />
                <ref bean="reportedSupplyAndDemandGraphIBM"/>
                <ref bean="auctionStateSupplyAndDemandGraphIBM"/>
                <ref bean="orderBookViewIBM"/>
			</list>
		</property>
		
		<property name="modelDescription" 
			value="Iori and Chiarella - A Simulation analysis of a the microstructure of double auction markets"/>
			
	</bean>

	<bean id="fileNamePrefix" class="net.sourceforge.jabm.util.MutableStringWrapper"
		scope="singleton">
		<constructor-arg value="data/" />
	</bean>

    <bean id="marketController" class="net.sourceforge.jasa.market.MarketController" scope="singleton">
        <property name="securities">
            <list>
                <ref bean="google"/>
                <ref bean="ibm"/>
            </list>
        </property>
    </bean>

</beans>